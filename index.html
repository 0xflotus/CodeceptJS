<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>CodeceptJS by Codeception</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">CodeceptJS</h1>
      <h2 class="project-tagline">Modern Era Aceptance Testing Framework for NodeJS</h2>
      <a href="https://github.com/Codeception/CodeceptJS" class="btn">View on GitHub</a>
      <a href="https://github.com/Codeception/CodeceptJS/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Codeception/CodeceptJS/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="codeceptjs-" class="anchor" href="#codeceptjs-" aria-hidden="true"><span class="octicon octicon-link"></span></a>CodeceptJs <a href="https://npmjs.org/package/codeceptjs"><img src="https://badge.fury.io/js/codeceptjs.svg" alt="NPM version"></a>
</h1>

<p>Reference: <a href="https://github.com/Codeception/CodeceptJS/blob/master/docs/API.md">Helpers API</a> | <a href="https://github.com/Codeception/codeceptjs-demo">Demo</a></p>

<h2>
<a id="modern-era-acceptance-testing-framework-for-nodejs" class="anchor" href="#modern-era-acceptance-testing-framework-for-nodejs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Modern Era Acceptance Testing Framework for NodeJS</h2>

<p>CodeceptJS is a new testing framework for end-to-end testing with WebDriver (or others). 
It abstracts browser interaction to simple steps which is written from a user perspective. 
A simple test that verifies that "Welcome" text is present on a main page of a site will look like:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Feature</span>(<span class="pl-s"><span class="pl-pds">'</span>CodeceptJS demo<span class="pl-pds">'</span></span>);

<span class="pl-en">Scenario</span>(<span class="pl-s"><span class="pl-pds">'</span>check Welcome page on site<span class="pl-pds">'</span></span>, (<span class="pl-smi">I</span>) <span class="pl-k">=&gt;</span> {
  <span class="pl-smi">I</span>.<span class="pl-en">amOnPage</span>(<span class="pl-s"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">see</span>(<span class="pl-s"><span class="pl-pds">'</span>Welcome<span class="pl-pds">'</span></span>);
}</pre></div>

<p>Codeception tests are:</p>

<ul>
<li>
<strong>Synchronous</strong>. You don't need to care about callbacks, or promises, test scenarios are linear, your test should be to.</li>
<li>Written from <strong>user's perspective</strong>. Every action is a method of <code>I</code>. That makes test easy to read, write and maintain even for non-tech persons.</li>
<li>Backend <strong>API agnostic</strong>. We don't know which WebDriver implementation is running this test. We can easily switch from WebDriverIO to Protractor or PhantomJS.</li>
</ul>

<p>Codeception uses <strong>Helper</strong> modules to provide actions to <code>I</code> object. Currently CodeceptJS has two helpers:</p>

<ul>
<li>
<a href="https://github.com/Codeception/CodeceptJS/blob/master/docs/API.md#webdriverio"><strong>WebDriverIO</strong></a> - wrapper on top of Selenium bindings library <a href="http://webdriver.io/">WebDriverIO</a>
</li>
<li>
<a href="https://github.com/Codeception/CodeceptJS/blob/master/docs/API.md#filesystem"><strong>FileSystem</strong></a> - simple helper for testing filesystem.</li>
</ul>

<p>And more to come...</p>

<h2>
<a id="why-codeceptjs" class="anchor" href="#why-codeceptjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why CodeceptJS?</h2>

<p>CodeceptJS is a successor of <a href="http://codeception.com">Codeception</a>, a popular full-stack testing framework for PHP.
With CodeceptJS your scenario-driven functional and acceptance tests will be as simple and clean as they can be. 
You don't need to worry about asynchronous nature of NodeJS or about various APIs of Selenium, PhantomJS, Protractor, etc, 
as CodeceptJS unifies them and makes them work as they were synchronous.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Based on <a href="https://mochajs.org/">Mocha</a> testing framework.</li>
<li>Designed for scenario driven acceptance testing in BDD-style</li>
<li>Uses ES6 natively without transpiler.</li>
<li>Selenium WebDriver integration using <a href="http://webdriver.io">webdriverio</a>.</li>
<li>Smart locators: use names, labels, matching text, CSS or XPath to locate elements.</li>
<li>Interactive debugging shell: pause test at any point and try different commands in a browser. </li>
<li>Easily create tests, pageobjects, stepobjects with CLI generators.</li>
</ul>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<div class="highlight highlight-source-shell"><pre>$ npm install -g codeceptjs</pre></div>

<p>Move to directory where you'd like to have your tests (and codeceptjs config) stored, and run </p>

<pre><code>codeceptjs init
</code></pre>

<p>to create and configure test environment. It is recommended to select WebDriverIO from the list of helpers,
if you need to write Selenium WebDriver tests.</p>

<p>After that create your first test by executing:</p>

<pre><code>codeceptjs generate test
</code></pre>

<p>Now test is created and can be executed with </p>

<pre><code>codeceptjs run
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Learn CodeceptJS by examples. Let's assume we have CodeceptJS installed and WebDriverIO helper enabled.</p>

<h3>
<a id="basics" class="anchor" href="#basics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basics</h3>

<p>Let's see how we can handle basic form testing:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Feature</span>(<span class="pl-s"><span class="pl-pds">'</span>CodeceptJS Demonstration<span class="pl-pds">'</span></span>);

<span class="pl-en">Scenario</span>(<span class="pl-s"><span class="pl-pds">'</span>test some forms<span class="pl-pds">'</span></span>, (<span class="pl-smi">I</span>) <span class="pl-k">=&gt;</span> {
  <span class="pl-smi">I</span>.<span class="pl-en">amOnPage</span>(<span class="pl-s"><span class="pl-pds">'</span>http://simple-form-bootstrap.plataformatec.com.br/documentation<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">fillField</span>(<span class="pl-s"><span class="pl-pds">'</span>Email<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>hello@world.com<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">fillField</span>(<span class="pl-s"><span class="pl-pds">'</span>Password<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>123456<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">checkOption</span>(<span class="pl-s"><span class="pl-pds">'</span>Active<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">checkOption</span>(<span class="pl-s"><span class="pl-pds">'</span>Male<span class="pl-pds">'</span></span>);  
  <span class="pl-smi">I</span>.<span class="pl-c1">click</span>(<span class="pl-s"><span class="pl-pds">'</span>Create User<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">see</span>(<span class="pl-s"><span class="pl-pds">'</span>User is valid<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">dontSeeInCurrentUrl</span>(<span class="pl-s"><span class="pl-pds">'</span>/documentation<span class="pl-pds">'</span></span>);
});</pre></div>

<p>All actions are performed by I object; assertions functions start with <code>see</code> function. 
In this examples all methods of I are taken from WebDriverIO helper, see <a href="https://github.com/Codeception/CodeceptJS/blob/master/docs/API.md#webdriverio">reference</a> to learn how to use them.</p>

<p>Let's execute this test with <code>run</code> command. Additional option <code>--steps</code> will show us the running process. We recommend use <code>--steps</code> or <code>--debug</code> during development. </p>

<pre><code>codeceptjs run --steps
</code></pre>

<p>This will produce an output:</p>

<pre><code>CodeceptJS Demonstration --
 test some forms
 • I am on page "http://simple-form-bootstrap.plataformatec.com.br/documentation"
 • I fill field "Email", "hello@world.com"
 • I fill field "Password", "123456"
 • I check option "Active"
 • I check option "Male"
 • I click "Create User"
 • I see "User is valid"
 • I dont see in current url "/documentation"
 ✓ OK in 17752ms
</code></pre>

<p>CodeceptJS has an ultimate feature to help you develop and debug you test. 
You can <strong>pause execution of test in any place and use interactive shell</strong> to try different actions and locators.
Just add <code>pause()</code> call at any place in a test and run it. </p>

<p>Interactive shell can be started outside test context by running:</p>

<pre><code>codeceptjs shell
</code></pre>

<h3>
<a id="actions" class="anchor" href="#actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Actions</h3>

<p>We filled form with <code>fillField</code> methods, which located form elements by their label. 
The same way you can locate element by name, CSS or XPath locators in tests:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// by name</span>
<span class="pl-smi">I</span>.<span class="pl-en">fillField</span>(<span class="pl-s"><span class="pl-pds">'</span>user_basic[email]<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>hello@world.com<span class="pl-pds">'</span></span>);
<span class="pl-c">// by CSS</span>
<span class="pl-smi">I</span>.<span class="pl-en">fillField</span>(<span class="pl-s"><span class="pl-pds">'</span>#user_basic_email<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>hello@world.com<span class="pl-pds">'</span></span>);
<span class="pl-c">// don't make us guess locator type, specify it</span>
<span class="pl-smi">I</span>.<span class="pl-en">fillField</span>({css<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>#user_basic_email<span class="pl-pds">'</span></span>}, <span class="pl-s"><span class="pl-pds">'</span>hello@world.com<span class="pl-pds">'</span></span>);</pre></div>

<p>Other methods like <code>checkOption</code>, and <code>click</code> work in a similar manner. They can take lables or CSS or XPath locators to find elements to interact.</p>

<h3>
<a id="assertions" class="anchor" href="#assertions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assertions</h3>

<p>Assertions start with <code>see</code> or <code>dontSee</code> prefix. In our case we are asserting that string 'User is valid' is somewhere in a webpage. 
However, we can narrow the search to particular element by providing a second parameter:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">I</span>.<span class="pl-en">see</span>(<span class="pl-s"><span class="pl-pds">'</span>User is valid<span class="pl-pds">'</span></span>);
<span class="pl-c">// better to specify context:</span>
<span class="pl-smi">I</span>.<span class="pl-en">see</span>(<span class="pl-s"><span class="pl-pds">'</span>User is valid<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>.alert-success<span class="pl-pds">'</span></span>);</pre></div>

<p>In this case 'User is valid' string will be searched only inside elements located by CSS <code>.alert-success</code>.</p>

<h3>
<a id="grabbers" class="anchor" href="#grabbers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Grabbers</h3>

<p>In case you need to return a value from a webpage and use it directly in test, you should use methods with <code>grab</code> prefix. 
They are expected to be used inside a generator functions, and their results will be available in test:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> assert <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>assert<span class="pl-pds">'</span></span>);

<span class="pl-en">Feature</span>(<span class="pl-s"><span class="pl-pds">'</span>CodeceptJS Demonstration<span class="pl-pds">'</span></span>);

<span class="pl-en">Scenario</span>(<span class="pl-s"><span class="pl-pds">'</span>test page title<span class="pl-pds">'</span></span>, <span class="pl-k">function*</span>(<span class="pl-smi">I</span>) {
  <span class="pl-smi">I</span>.<span class="pl-en">amOnPage</span>(<span class="pl-s"><span class="pl-pds">'</span>http://simple-form-bootstrap.plataformatec.com.br/documentation<span class="pl-pds">'</span></span>);
  <span class="pl-k">var</span> title <span class="pl-k">=</span> <span class="pl-k">yield</span> <span class="pl-smi">I</span>.<span class="pl-en">grabTitle</span>();
  <span class="pl-smi">assert</span>.<span class="pl-en">equal</span>(title, <span class="pl-s"><span class="pl-pds">'</span>Example application with SimpleForm and Twitter Bootstrap<span class="pl-pds">'</span></span>);
});</pre></div>

<p>The same way you can grab text, attributes, or form values and use them in next test steps.</p>

<h3>
<a id="beforeafter" class="anchor" href="#beforeafter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Before/After</h3>

<p>Common preperation steps like opening a web page, logging in a user, can be placed in <code>Before</code> or <code>Background</code>:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Feature</span>(<span class="pl-s"><span class="pl-pds">'</span>CodeceptJS Demonstration<span class="pl-pds">'</span></span>);

<span class="pl-en">Before</span>((<span class="pl-smi">I</span>) <span class="pl-k">=&gt;</span> { <span class="pl-c">// or Background</span>
  <span class="pl-smi">I</span>.<span class="pl-en">amOnPage</span>(<span class="pl-s"><span class="pl-pds">'</span>http://simple-form-bootstrap.plataformatec.com.br/documentation<span class="pl-pds">'</span></span>);
});

<span class="pl-en">Scenario</span>(<span class="pl-s"><span class="pl-pds">'</span>test some forms<span class="pl-pds">'</span></span>, (<span class="pl-smi">I</span>) <span class="pl-k">=&gt;</span> {
  <span class="pl-smi">I</span>.<span class="pl-c1">click</span>(<span class="pl-s"><span class="pl-pds">'</span>Create User<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">see</span>(<span class="pl-s"><span class="pl-pds">'</span>User is valid<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">dontSeeInCurrentUrl</span>(<span class="pl-s"><span class="pl-pds">'</span>/documentation<span class="pl-pds">'</span></span>);
});

<span class="pl-en">Scenario</span>(<span class="pl-s"><span class="pl-pds">'</span>test title<span class="pl-pds">'</span></span>, (<span class="pl-smi">I</span>) <span class="pl-k">=&gt;</span> {
  <span class="pl-smi">I</span>.<span class="pl-en">seeInTitle</span>(<span class="pl-s"><span class="pl-pds">'</span>Example application<span class="pl-pds">'</span></span>);
});</pre></div>

<h2>
<a id="pageobjects" class="anchor" href="#pageobjects" aria-hidden="true"><span class="octicon octicon-link"></span></a>PageObjects</h2>

<p>CodeceptJS provides the most simple way to create and use page objects in your test.
You can create one by running</p>

<pre><code>codeceptjs generate pageobject
</code></pre>

<p>It will create a page object file for you and add it to config. 
Let's assume we created one named <code>docsPage</code>:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-s"><span class="pl-pds">'</span>use strict<span class="pl-pds">'</span></span>;

<span class="pl-k">let</span> I;

<span class="pl-smi">module</span>.<span class="pl-smi">exports</span> <span class="pl-k">=</span> {

  <span class="pl-en">_init</span>() {
    I <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>codeceptjs/actor<span class="pl-pds">'</span></span>)();
  },

  fields<span class="pl-k">:</span> {
    email<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>#user_basic_email<span class="pl-pds">'</span></span>,
    password<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>#user_basic_password<span class="pl-pds">'</span></span>
  },
  submitButton<span class="pl-k">:</span> {css<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>#new_user_basic input[type=submit]<span class="pl-pds">'</span></span>},

  <span class="pl-en">sendForm</span>(<span class="pl-smi">email</span>, <span class="pl-smi">password</span>) {
    <span class="pl-smi">I</span>.<span class="pl-en">fillField</span>(<span class="pl-smi">this</span>.<span class="pl-smi">fields</span>.<span class="pl-smi">email</span>, email);
    <span class="pl-smi">I</span>.<span class="pl-en">fillField</span>(<span class="pl-smi">this</span>.<span class="pl-smi">fields</span>.<span class="pl-smi">password</span>, password);
    <span class="pl-smi">I</span>.<span class="pl-c1">click</span>(<span class="pl-smi">this</span>.<span class="pl-smi">submitButton</span>);
  }
}</pre></div>

<p>You can easily inject it to test by providing its name in test arguments:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">Feature</span>(<span class="pl-s"><span class="pl-pds">'</span>CodeceptJS Demonstration<span class="pl-pds">'</span></span>);

<span class="pl-en">Before</span>((<span class="pl-smi">I</span>) <span class="pl-k">=&gt;</span> { <span class="pl-c">// or Background</span>
  <span class="pl-smi">I</span>.<span class="pl-en">amOnPage</span>(<span class="pl-s"><span class="pl-pds">'</span>http://simple-form-bootstrap.plataformatec.com.br/documentation<span class="pl-pds">'</span></span>);
});

<span class="pl-en">Scenario</span>(<span class="pl-s"><span class="pl-pds">'</span>test some forms<span class="pl-pds">'</span></span>, (<span class="pl-smi">I</span>, <span class="pl-smi">docsPage</span>) <span class="pl-k">=&gt;</span> {
  <span class="pl-smi">docsPage</span>.<span class="pl-en">sendForm</span>(<span class="pl-s"><span class="pl-pds">'</span>hello@world.com<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>123456<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">see</span>(<span class="pl-s"><span class="pl-pds">'</span>User is valid<span class="pl-pds">'</span></span>);
  <span class="pl-smi">I</span>.<span class="pl-en">dontSeeInCurrentUrl</span>(<span class="pl-s"><span class="pl-pds">'</span>/documentation<span class="pl-pds">'</span></span>);
});</pre></div>

<h2>
<a id="current-state" class="anchor" href="#current-state" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current State</h2>

<p>CodeceptJS is in its early days. Any feedback, issues, and pull requests are welcome. Try it, and if you like it - help us make it better!</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT © <a href="http://codegyre.com">DavertMik</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Codeception/CodeceptJS">CodeceptJS</a> is maintained by <a href="https://github.com/Codeception">Codeception</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
