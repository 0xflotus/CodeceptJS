<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="/images/cjs-favicon.png">

	<title>Configuration - CodeceptJS</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../css/extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-30075781-3', 'auto');
            ga('send', 'pageview');
        </script>
        
        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" rel="stylesheet" />
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700' rel='stylesheet' type='text/css'>
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">

        <div class="right hidden-sm hidden-xs hidden-md" style="margin-left: 10px; margin-top: 10px; margin-right: 5px; float:right; text-align: right">
            <a href="https://twitter.com/CodeceptJS" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @CodeceptJS</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </div>

    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">CodeceptJS</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
                        
            
                
                <li >
                    <a href="..">Index</a>
                </li>
                
            
                        
            
                
                <li >
                    <a href="../quickstart/">Quickstart</a>
                </li>
                
            
                        
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../basics/">Basics</a>
                        </li>
                    
                        <li >
                            <a href="../acceptance/">Acceptance Testing</a>
                        </li>
                    
                        <li >
                            <a href="../angular/">AngularJS Testing</a>
                        </li>
                    
                        <li >
                            <a href="../nightmare/">Nightmare Testing</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/">Helpers</a>
                        </li>
                    
                        <li >
                            <a href="../pageobjects/">Page Objects</a>
                        </li>
                    
                    </ul>
                </li>
            
                        
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Helpers <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../helpers/WebDriverIO/">WebDriverIO</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/Protractor/">Protractor</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/SeleniumWebdriver/">SeleniumWebdriver</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/Nightmare/">Nightmare</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/FileSystem/">FileSystem</a>
                        </li>
                    
                    </ul>
                </li>
            
                        
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../commands/">Commands</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="../reports/">Reports</a>
                        </li>
                    
                        <li >
                            <a href="../translation/">Translation</a>
                        </li>
                    
                    </ul>
                </li>
            
                        
            
                
                <li >
                    <a href="../changelog/">Releases</a>
                </li>
                
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../commands/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../reports/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/codeception/codeceptjs/">
                        
                            <img src="/images/github.png" style="height: 1.2em;" alt="">
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>


        

        <div class="reference">
            <div class="well col-md-3"><div class="bs-sidebar hidden-print" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#configuration">Configuration</a></li>
        
            <li><a href="#dynamic-configuration">Dynamic Configuration</a></li>
        
            <li><a href="#bootstrap-teardown">Bootstrap / Teardown</a></li>
        
            <li><a href="#profile">Profile</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-7" role="main">

<h1 id="configuration">Configuration</h1>
<p>CodeceptJS configuration is set in <code>codecept.js</code> file.</p>
<p>After running <code>codeceptjs init</code> it should be saved in test root.</p>
<p>Here is an overview of available options with their defaults:</p>
<ul>
<li><strong>tests</strong>: <code>"./*_test.js"</code> - pattern to locate tests</li>
<li><strong>include</strong>: <code>{}</code> - actors and pageobjects to be registered in DI container and included in tests.</li>
<li><strong>timeout</strong>: <code>10000</code> - default tests timeout</li>
<li><strong>output</strong>: <code>"./output"</code> - where to store failure screenshots, etc</li>
<li><strong>helpers</strong>: <code>{}</code> - list of enabled helpers</li>
<li><strong>mocha</strong>: <code>{}</code> - mocha options, <a href="http://codecept.io/reports/">reporters</a> can be configured here</li>
<li><strong>name</strong>: <code>"tests"</code> - test suite name (not used)</li>
<li><strong>bootstrap</strong>: <code>"./bootstrap.js"</code> - an option to run code <em>before</em> tests are run (see example in a section below). It can either be:</li>
<li>a path to a js file that will be executed (via <code>require</code>) before tests. If the file exports a
    function, the function is called right away with a callback parameter. When the
    callback is called with no arguments, tests are executed. If instead the callback is called with an
    error as first argument, test execution is aborted and the process stops.</li>
<li>a function (dynamic configuration only). The function is called before tests with a callback function as the only parameter. When the callback is called with no arguments, tests are executed. If instead the callback is called with an error as first argument, test execution is aborted and the process stops.</li>
<li><strong>teardown</strong>: - an option to run code <em>after</em> tests are run (see example in a section below). It can either be:</li>
<li>a path to a js file that will be executed (via <code>require</code>) after tests. If the file exports a function, the function is called right away with a callback parameter.</li>
<li>
<p>a function (dynamic configuration only). The function is called after tests with a callback parameter.</p>
</li>
<li>
<p><strong>translation</strong>: - <a href="http://codecept.io/translation/">locale</a> to be used to print steps output, as well as used in source code.</p>
</li>
</ul>
<h2 id="dynamic-configuration">Dynamic Configuration</h2>
<p>By default <code>codecept.json</code> is used for configuration. However, you can switch to JS format for more dynamic options.
 Create <code>codecept.conf.js</code> file and make it export <code>config</code> property.</p>
<p>See the config example:</p>
<pre><code class="js">exports.config = {
  helpers: {
    WebDriverIO: {
      // load variables from the environment and provide defaults
      url: process.env.CODECEPT_URL || 'http://localhost:3000',
      browser: process.profile || 'chrome',

      user: process.env.CLOUDSERVICE_USER,
      key: process.env.CLOUDSERVICE_KEY,

      coloredLogs: true,
      waitforTimeout: 10000
    }
  },

  bootstrap: function(done) {
    console.log('Custom bootstrap goes here!');
    done();
  },
  teardown: function(done) {
    console.log('Custom teardown goes here!');
    done();
  }

  // don't build monolithic configs
  mocha: require('./mocha.conf.js') || {},

  // here goes config as it was in codecept.json
  // ....
};
</code></pre>

<p>(Don't copy-paste this config, it's just demo)</p>
<h2 id="bootstrap-teardown">Bootstrap / Teardown</h2>
<p><code>bootstrap</code> and <code>teardown</code> options can accept either a JS file to be executed or a function in case of dynamic config.
If a file returns a function with a param it is considered to be asynchronous. This can be useful to start server in the beginning of tests and stop it after:</p>
<p>File: <code>codecept.json</code>:</p>
<pre><code class="js">  &quot;bootstrap&quot;: &quot;./bootstrap.js&quot;
  &quot;teardown&quot;: &quot;./teardown.js&quot;
</code></pre>

<p>File: <code>bootstrap.js</code>:</p>
<pre><code class="js">global.server = require('./app_server');
module.exports = function(done) {
  server.launch(done);
}
</code></pre>

<p>File: <code>teardown.js</code>:</p>
<pre><code class="js">module.exports = function(done) {
  server.stop(done);
}
</code></pre>

<p>In case of dynamic config bootstrap/teardown functions can be placed inside a config itself:</p>
<pre><code class="js">var server = require('./app_server');

exports.config = {
  bootstrap: function(done) {
    server.launch(done);
  },
  teardown: function(done) {
    server.stop(done);
  }
  // ...
  // other config options
}

</code></pre>

<p>If bootstrap / teardown function doesn't accept a param it is executed as is, in sync manner.
Synchronous execution also happens if bootstrap/teardown file is required but not exporting anything.</p>
<h2 id="profile">Profile</h2>
<p>Using values from <code>process.profile</code> you can change the config dynamically.
It provides value of <code>--profile</code> option passed to runner.
Use its value to change config value on the fly.</p>
<p>For instance, with the config above we can change browser value using <code>profile</code> option</p>
<pre><code>codeceptjs run --profile firefox
</code></pre></div>
            <div class="clearfix"></div>
        </div>
        

    <footer>

        <div class="container">
          <div class="row">
            <div class="col-md-4">
                
            <h4>Sponsored by</h4>

            <a href="https://rebilly.com" target="_blank">
            <img class="rebilly" src="/images/Rebilly.png" alt="" >
            </a>
            <p><em>Uncover your revenue potential with<br>
                our recurring billing software.</em></p>
            </div>
    
<div class="col-md-4">
          <ul class="imglist">
                    <li class="github"><a href="https://github.com/codeception/codeceptjs"><img src="/images/github.png" alt="GitHub">Codeception/CodeceptJS</a></li>
                    <li class="twitter">
                        <a  href="https://twitter.com/codeceptjs">
                            <img src="/images/twitter.png" alt="">@CodeceptJS
                        </a>
                    </li>
                </ul>

</div>

            <div class="col-md-4">
                
      


                <h4>Our Contributors</h4>
                <div id="contributors"></div>
            </div>

        </div>


        <center>Created by <strong>CodeceptJS Team</strong></center>

</div>

    </footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>        
        <script src="../js/base.js"></script>
        <script src="../build/FileSystem.js"></script>
        <script src="../build/Nightmare.js"></script>
        <script src="../build/Protractor.js"></script>
        <script src="../build/SeleniumWebdriver.js"></script>
        <script src="../build/WebDriverIO.js"></script>
    </body>
</html>